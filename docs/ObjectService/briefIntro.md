## **对象模型介绍**

### **基础信息**

> 系统的对象模型有对象模板、对象实例和功能集合，对象模型内部包含基础信息、属性、服务、事件和订阅的基本功能。

> 基础信息主要是描述对象模型的名称、别名、继承的模板（功能集合不继承模板）、功能集合以及详细描述等。对象和属性的操作可以基于别名，对象的名称和别名是全局唯一的，属性的别名是在对象下是唯一的。

### **对象属性**

> 对象属性用于描述与对象实例相关的数据标签。通过对象属性可以了解对象实例当前的状态，属性可以是静态的（例如设备名称、设备编号等），也可以是动态的（例如温度值、压力值、速度值等）。每个对象属性都有名称、描述和数据类型。目前，平台支持的对象属性的数据类型如下表所示：

|数据类型|描述|数据类型|描述|
|:---:|:---:|:---:|:---:|
|Integer|整型|DataStruct|数据结构类型|
|Long|长整型|Image|图片类型|
|Float|单精度浮点型|Object|对象实例类型|
|Double|双精度浮点型|Location|坐标类型|
|Boolean|布尔型|VEC2|二维类型。例如2D坐标x和y|
|String|字符串型|VEC3|三维类型。例如3D坐标x、y和z|
|Datetime|时间类型|||

> 对象属性中可以定义系统报警，系统警报是特殊类型的事件。系统提供报警定义触发事件的规则管理。当属性有数据更新时，系统会判断警报规则。如果警报规则适用，则系统会产生警报。

### **对象服务**

> 对象服务是指对象实例可执行的功能定义，每个对象实例都可以定义一个或多个服务。用户定义服务的具体实现是通过脚本完成。通过对象服务的定义，平台中的其它服务可以调用该服务。

> 在创建新服务时，需要先定义输入和输出参数，然后编写脚本函数。完成脚本函数编写后，可以通过单击该服务的“调试”按钮来进行测试服务执行的正确性。系统提供了调试窗口，通过按要求输入参数即可进行调试。

> 内置服务详见：[对象服务](/docs/ObjectService/serviceIntro.md)

### **对象事件**

> 对象事件是对象实例发出供外部订阅者订阅的消息。系统事件可以触发对应订阅对象的订阅脚本逻辑。事件可以是来自于数据源的值变化，也可以是来自多个属性及其依赖项中的较复杂计算逻辑。建模过程中应建立监听该事件的订阅者，对象事件负责向订阅者发送触发消息。

> 内置服务详见：[对象事件](/docs/ObjectService/eventIntro.md)

### **对象订阅**

> 对象订阅是用于接收事件，并对事件进行响应的功能。对象订阅需要定义数据来源，通常为对象实例产生的事件。对象实例可订阅事件，且可以执行订阅逻辑脚本。对象订阅将自动接收由事件关联的数据集合，作为订阅脚本的输入信息，可实现自定义业务逻辑来对事件作出反应。任意数量的订阅都可以订阅相同的事件。

### **自定义服务**

> 当创建某个对象实例继承于对象模板，则拥有许多用于对象属性读写操作的服务，通过对内置服务的调用，用户可以自定义开发相关服务。

**「注意」supOS对象和属性的操作都是基于别名的，对象的别名、名称是全局唯一的，属性的别名、名称是在对象下是唯一的。**

*关于对象模型管理请参考《supOS工厂建模管理软件用户手册V2.4.pdf》*

> 自定义服务脚本语法与使用详见：[自定义服务](/docs/ObjectService/customService.md)

### **操作流程图**

![ObjectMana](../assets/img/ObjectMana.png "ObjectMana"){.img-fluid tag=1}